(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{5254:function(e,r,t){Promise.resolve().then(t.bind(t,6577))},6577:function(e,r,t){"use strict";t.d(r,{EmployeeTable:function(){return y}});var a=t(7437),s=t(2265),n=t(1994),l=t(3335);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.m6)((0,n.W)(r))}let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:o("w-full caption-bottom text-sm",t),...s})})});i.displayName="Table";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:o("[&_tr]:border-b",t),...s})});d.displayName="TableHeader";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:o("[&_tr:last-child]:border-0",t),...s})});c.displayName="TableBody",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:o("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});u.displayName="TableRow";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});x.displayName="TableHead";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:o("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});f.displayName="TableCell",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:o("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption";var p=t(7647),m=t(936);let b=(0,t(535).j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-error text-error-foreground hover:bg-error/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-accent text-accent-foreground hover:bg-accent/80",danger:"border-transparent bg-error text-error-foreground hover:bg-error/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function h(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:o(b({variant:t}),r),...s})}var g=t(1303);function j(e){let{expiryDate:r}=e;if(!r)return(0,a.jsx)(h,{variant:"outline",className:"opacity-50 text-[10px] uppercase",children:"No Record"});let t=new Date,s=(0,m.D)(r),n=(0,g.j)(s,t);return n<0?(0,a.jsx)(h,{variant:"danger",className:"uppercase text-[10px]",children:"Expired"}):n<90?(0,a.jsxs)(h,{variant:"warning",className:"uppercase text-[10px]",children:["Expiring (",n,"d)"]}):(0,a.jsx)(h,{variant:"success",className:"uppercase text-[10px]",children:"Valid"})}function v(e){let{status:r}=e;return(0,a.jsx)(h,{variant:{active:"success",inactive:"secondary",terminated:"danger"}[r]||"outline",className:"uppercase text-[10px]",children:r})}function y(e){let{employees:r}=e;return(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(i,{children:[(0,a.jsx)(d,{children:(0,a.jsxs)(u,{children:[(0,a.jsx)(x,{children:"Name"}),(0,a.jsx)(x,{children:"Passport"}),(0,a.jsx)(x,{children:"Nationality"}),(0,a.jsx)(x,{children:"Visa Type"}),(0,a.jsx)(x,{children:"Expiry Date"}),(0,a.jsx)(x,{children:"Visa Status"}),(0,a.jsx)(x,{children:"Employment"})]})}),(0,a.jsx)(c,{children:0===r.length?(0,a.jsx)(u,{children:(0,a.jsx)(f,{colSpan:7,className:"h-24 text-center",children:"No employees found."})}):r.map(e=>{var r;let t=null===(r=e.visas)||void 0===r?void 0:r.find(e=>"active"===e.application_status);return(0,a.jsxs)(u,{children:[(0,a.jsxs)(f,{className:"font-semibold text-secondary",children:[e.first_name," ",e.last_name]}),(0,a.jsx)(f,{className:"font-mono text-xs uppercase tracking-wider",children:e.passport_number}),(0,a.jsx)(f,{children:e.nationality}),(0,a.jsx)(f,{className:"text-xs",children:(null==t?void 0:t.visa_type)||"N/A"}),(0,a.jsx)(f,{className:"font-mono text-xs",children:(null==t?void 0:t.expiry_date)?(0,p.WU)((0,m.D)(t.expiry_date),"dd/MM/yyyy"):"N/A"}),(0,a.jsx)(f,{children:(0,a.jsx)(j,{expiryDate:null==t?void 0:t.expiry_date})}),(0,a.jsx)(f,{children:(0,a.jsx)(v,{status:e.status})})]},e.id)})})]})})}}},function(e){e.O(0,[221,971,117,744],function(){return e(e.s=5254)}),_N_E=e.O()}]);