"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/employees/route";
exports.ids = ["app/api/employees/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femployees%2Froute&page=%2Fapi%2Femployees%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Froute.ts&appDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femployees%2Froute&page=%2Fapi%2Femployees%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Froute.ts&appDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_glennbundy_Desktop_visatrack_malta_app_api_employees_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/employees/route.ts */ \"(rsc)/./app/api/employees/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/employees/route\",\n        pathname: \"/api/employees\",\n        filename: \"route\",\n        bundlePath: \"app/api/employees/route\"\n    },\n    resolvedPagePath: \"/Users/glennbundy/Desktop/visatrack-malta/app/api/employees/route.ts\",\n    nextConfigOutput,\n    userland: _Users_glennbundy_Desktop_visatrack_malta_app_api_employees_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/employees/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZlbXBsb3llZXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmVtcGxveWVlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmVtcGxveWVlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmdsZW5uYnVuZHklMkZEZXNrdG9wJTJGdmlzYXRyYWNrLW1hbHRhJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmdsZW5uYnVuZHklMkZEZXNrdG9wJTJGdmlzYXRyYWNrLW1hbHRhJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNvQjtBQUNqRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3Zpc2F0cmFjay1tYWx0YS8/YzRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvZ2xlbm5idW5keS9EZXNrdG9wL3Zpc2F0cmFjay1tYWx0YS9hcHAvYXBpL2VtcGxveWVlcy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZW1wbG95ZWVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZW1wbG95ZWVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9lbXBsb3llZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZ2xlbm5idW5keS9EZXNrdG9wL3Zpc2F0cmFjay1tYWx0YS9hcHAvYXBpL2VtcGxveWVlcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZW1wbG95ZWVzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femployees%2Froute&page=%2Fapi%2Femployees%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Froute.ts&appDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/employees/route.ts":
/*!************************************!*\
  !*** ./app/api/employees/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(rsc)/./node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _barrel_optimize_names_differenceInDays_parseISO_date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,parseISO!=!date-fns */ \"(rsc)/./node_modules/date-fns/differenceInDays.mjs\");\n/* harmony import */ var _barrel_optimize_names_differenceInDays_parseISO_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=differenceInDays,parseISO!=!date-fns */ \"(rsc)/./node_modules/date-fns/parseISO.mjs\");\n\n\n\n\n\nconst dynamic = \"force-dynamic\";\nconst employeeSchema = zod__WEBPACK_IMPORTED_MODULE_3__.object({\n    first_name: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(1),\n    last_name: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(1),\n    email: zod__WEBPACK_IMPORTED_MODULE_3__.string().email().optional().or(zod__WEBPACK_IMPORTED_MODULE_3__.literal(\"\")),\n    phone: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional(),\n    passport_number: zod__WEBPACK_IMPORTED_MODULE_3__.string().min(1),\n    passport_expiry: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional().nullable(),\n    nationality: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional(),\n    position: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional(),\n    department: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional(),\n    employment_start_date: zod__WEBPACK_IMPORTED_MODULE_3__.string().optional().nullable()\n});\nasync function GET(request) {\n    try {\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createRouteHandlerClient)({\n            cookies: next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies\n        });\n        const { data: { session } } = await supabase.auth.getSession();\n        if (!session) {\n            return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json([]); // Return empty for MVP testing\n        }\n        const { data: profile } = await supabase.from(\"profiles\").select(\"company_id\").eq(\"id\", session.user.id).single();\n        if (!profile?.company_id) return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json([]);\n        // Query employees with visas\n        const { data: employees, error } = await supabase.from(\"employees\").select(\"*, visas(*)\").eq(\"company_id\", profile.company_id);\n        if (error) throw error;\n        // Post-process: Calculate days_until_expiry and Order (Prompt 3)\n        const processedEmployees = employees.map((emp)=>{\n            const visas = emp.visas || [];\n            const activeVisa = visas.find((v)=>v.status === \"valid\" || v.status === \"active\");\n            let days_until_expiry = null;\n            if (activeVisa?.expiry_date) {\n                days_until_expiry = (0,_barrel_optimize_names_differenceInDays_parseISO_date_fns__WEBPACK_IMPORTED_MODULE_4__.differenceInDays)((0,_barrel_optimize_names_differenceInDays_parseISO_date_fns__WEBPACK_IMPORTED_MODULE_5__.parseISO)(activeVisa.expiry_date), new Date());\n            }\n            return {\n                ...emp,\n                days_until_expiry\n            };\n        }).sort((a, b)=>{\n            // Order by days_until_expiry (soonest first)\n            if (a.days_until_expiry === null) return 1;\n            if (b.days_until_expiry === null) return -1;\n            return a.days_until_expiry - b.days_until_expiry;\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(processedEmployees);\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const supabase = (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createRouteHandlerClient)({\n            cookies: next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies\n        });\n        const body = await request.json();\n        const validation = employeeSchema.safeParse(body);\n        if (!validation.success) return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(validation.error, {\n            status: 400\n        });\n        const { data: { session } } = await supabase.auth.getSession();\n        if (!session) return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n        const { data: profile } = await supabase.from(\"profiles\").select(\"company_id\").eq(\"id\", session.user.id).single();\n        if (!profile?.company_id) return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: \"No company\"\n        }, {\n            status: 403\n        });\n        const { data: employee, error } = await supabase.from(\"employees\").insert({\n            ...validation.data,\n            company_id: profile.company_id,\n            status: \"active\"\n        }).select().single();\n        if (error) throw error;\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json(employee, {\n            status: 201\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_2__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlHLE9BQU8sTUFBTUE7UUFDakIsT0FBT3hDLHFEQUFZQSxDQUFDOEIsSUFBSSxDQUFDZ0MsVUFBVTtZQUFFZCxRQUFRO1FBQUk7SUFDbkQsRUFBRSxPQUFPUixPQUFZO1FBQ25CLE9BQU94QyxxREFBWUEsQ0FBQzhCLElBQUksQ0FBQztZQUFFVSxPQUFPQSxNQUFNZ0IsT0FBTztRQUFDLEdBQUc7WUFBRVIsUUFBUTtRQUFJO0lBQ25FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXNhdHJhY2stbWFsdGEvLi9hcHAvYXBpL2VtcGxveWVlcy9yb3V0ZS50cz8zZGViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9hdXRoLWhlbHBlcnMtbmV4dGpzJztcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tICduZXh0L2hlYWRlcnMnO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBkaWZmZXJlbmNlSW5EYXlzLCBwYXJzZUlTTyB9IGZyb20gJ2RhdGUtZm5zJztcblxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XG5cbmNvbnN0IGVtcGxveWVlU2NoZW1hID0gei5vYmplY3Qoe1xuICBmaXJzdF9uYW1lOiB6LnN0cmluZygpLm1pbigxKSxcbiAgbGFzdF9uYW1lOiB6LnN0cmluZygpLm1pbigxKSxcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKS5vcHRpb25hbCgpLm9yKHoubGl0ZXJhbChcIlwiKSksXG4gIHBob25lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHBhc3Nwb3J0X251bWJlcjogei5zdHJpbmcoKS5taW4oMSksXG4gIHBhc3Nwb3J0X2V4cGlyeTogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gIG5hdGlvbmFsaXR5OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHBvc2l0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRlcGFydG1lbnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZW1wbG95bWVudF9zdGFydF9kYXRlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCh7IGNvb2tpZXMgfSk7XG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG5cbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihbXSk7IC8vIFJldHVybiBlbXB0eSBmb3IgTVZQIHRlc3RpbmdcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGE6IHByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncHJvZmlsZXMnKVxuICAgICAgLnNlbGVjdCgnY29tcGFueV9pZCcpXG4gICAgICAuZXEoJ2lkJywgc2Vzc2lvbi51c2VyLmlkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKCFwcm9maWxlPy5jb21wYW55X2lkKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oW10pO1xuXG4gICAgLy8gUXVlcnkgZW1wbG95ZWVzIHdpdGggdmlzYXNcbiAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnZW1wbG95ZWVzJylcbiAgICAgIC5zZWxlY3QoJyosIHZpc2FzKCopJylcbiAgICAgIC5lcSgnY29tcGFueV9pZCcsIHByb2ZpbGUuY29tcGFueV9pZCk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgLy8gUG9zdC1wcm9jZXNzOiBDYWxjdWxhdGUgZGF5c191bnRpbF9leHBpcnkgYW5kIE9yZGVyIChQcm9tcHQgMylcbiAgICBjb25zdCBwcm9jZXNzZWRFbXBsb3llZXMgPSBlbXBsb3llZXMubWFwKGVtcCA9PiB7XG4gICAgICBjb25zdCB2aXNhcyA9IGVtcC52aXNhcyB8fCBbXTtcbiAgICAgIGNvbnN0IGFjdGl2ZVZpc2EgPSB2aXNhcy5maW5kKCh2OiBhbnkpID0+IHYuc3RhdHVzID09PSAndmFsaWQnIHx8IHYuc3RhdHVzID09PSAnYWN0aXZlJyk7XG4gICAgICBcbiAgICAgIGxldCBkYXlzX3VudGlsX2V4cGlyeSA9IG51bGw7XG4gICAgICBpZiAoYWN0aXZlVmlzYT8uZXhwaXJ5X2RhdGUpIHtcbiAgICAgICAgZGF5c191bnRpbF9leHBpcnkgPSBkaWZmZXJlbmNlSW5EYXlzKHBhcnNlSVNPKGFjdGl2ZVZpc2EuZXhwaXJ5X2RhdGUpLCBuZXcgRGF0ZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgLi4uZW1wLCBkYXlzX3VudGlsX2V4cGlyeSB9O1xuICAgIH0pLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIC8vIE9yZGVyIGJ5IGRheXNfdW50aWxfZXhwaXJ5IChzb29uZXN0IGZpcnN0KVxuICAgICAgaWYgKGEuZGF5c191bnRpbF9leHBpcnkgPT09IG51bGwpIHJldHVybiAxO1xuICAgICAgaWYgKGIuZGF5c191bnRpbF9leHBpcnkgPT09IG51bGwpIHJldHVybiAtMTtcbiAgICAgIHJldHVybiBhLmRheXNfdW50aWxfZXhwaXJ5IC0gYi5kYXlzX3VudGlsX2V4cGlyeTtcbiAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwcm9jZXNzZWRFbXBsb3llZXMpO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCh7IGNvb2tpZXMgfSk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHZhbGlkYXRpb24gPSBlbXBsb3llZVNjaGVtYS5zYWZlUGFyc2UoYm9keSk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih2YWxpZGF0aW9uLmVycm9yLCB7IHN0YXR1czogNDAwIH0pO1xuXG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcblxuICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAuc2VsZWN0KCdjb21wYW55X2lkJylcbiAgICAgIC5lcSgnaWQnLCBzZXNzaW9uLnVzZXIuaWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIXByb2ZpbGU/LmNvbXBhbnlfaWQpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm8gY29tcGFueScgfSwgeyBzdGF0dXM6IDQwMyB9KTtcblxuICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWUsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2VtcGxveWVlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgLi4udmFsaWRhdGlvbi5kYXRhLFxuICAgICAgICBjb21wYW55X2lkOiBwcm9maWxlLmNvbXBhbnlfaWQsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgIH0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGVtcGxveWVlLCB7IHN0YXR1czogMjAxIH0pO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVJvdXRlSGFuZGxlckNsaWVudCIsImNvb2tpZXMiLCJOZXh0UmVzcG9uc2UiLCJ6IiwiZGlmZmVyZW5jZUluRGF5cyIsInBhcnNlSVNPIiwiZHluYW1pYyIsImVtcGxveWVlU2NoZW1hIiwib2JqZWN0IiwiZmlyc3RfbmFtZSIsInN0cmluZyIsIm1pbiIsImxhc3RfbmFtZSIsImVtYWlsIiwib3B0aW9uYWwiLCJvciIsImxpdGVyYWwiLCJwaG9uZSIsInBhc3Nwb3J0X251bWJlciIsInBhc3Nwb3J0X2V4cGlyeSIsIm51bGxhYmxlIiwibmF0aW9uYWxpdHkiLCJwb3NpdGlvbiIsImRlcGFydG1lbnQiLCJlbXBsb3ltZW50X3N0YXJ0X2RhdGUiLCJHRVQiLCJyZXF1ZXN0Iiwic3VwYWJhc2UiLCJkYXRhIiwic2Vzc2lvbiIsImF1dGgiLCJnZXRTZXNzaW9uIiwianNvbiIsInByb2ZpbGUiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJ1c2VyIiwiaWQiLCJzaW5nbGUiLCJjb21wYW55X2lkIiwiZW1wbG95ZWVzIiwiZXJyb3IiLCJwcm9jZXNzZWRFbXBsb3llZXMiLCJtYXAiLCJlbXAiLCJ2aXNhcyIsImFjdGl2ZVZpc2EiLCJmaW5kIiwidiIsInN0YXR1cyIsImRheXNfdW50aWxfZXhwaXJ5IiwiZXhwaXJ5X2RhdGUiLCJEYXRlIiwic29ydCIsImEiLCJiIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJQT1NUIiwiYm9keSIsInZhbGlkYXRpb24iLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZW1wbG95ZWUiLCJpbnNlcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/employees/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/set-cookie-parser","vendor-chunks/jose","vendor-chunks/date-fns","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Femployees%2Froute&page=%2Fapi%2Femployees%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Femployees%2Froute.ts&appDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fglennbundy%2FDesktop%2Fvisatrack-malta&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();